<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="layout/default_layout">
<th:block layout:fragment="content">
 <head>
 <title>CodeGym 회원정보</title>
 <style>
	
 </style>
 </head> 
<!-- 개발 영역 시작 -->
<style>
body {
	text-align: center;
}
.bottom_menu { margin-top: 20px; }

.bottom_menu > a:link, .bottom_menu > a:visited {
			background-color: #FFA500;
			color: maroon;
			padding: 15px 25px;
			text-align: center;	
			display: inline-block;
			text-decoration : none; 
}
.bottom_menu > a:hover, .bottom_menu > a:active { 
	background-color: #1E90FF;
	text-decoration : none; 
}

.imageZone {
	border: 2px solid rgb(58, 160, 64);
	width: auto;
	height: auto;
	color: #92AAB0;
	text-align: center;
	vertical-align: middle;
	margin: auto;
	padding: auto;
	font-size: 200%;
}

.userid, .username, .userpasswd, .userpasswd1, .telno, .email, .regdate {
  width: auto;
  border:none;
  border-bottom: 2px solid #adadad;
  margin: 5px;
  padding: 30px;
  outline:none;
  color: #636e72;
  font-size:16px;
  height:25px;
  background: none;
}


</style>

<script>
		const userid = '[[${session.userid}]]';
		if(userid == '') 
			document.location.href='/user/login';
		
		function userInfoDelete() {
			
			if(confirm("사용자 탈퇴를 하시면 작성하셨던 모든 게시물도 함께 삭제됩니다. \n정말로 사용자 탈퇴 하시겠습니까?") == true)
			 	{ alert("사용자 정보가 삭제 되었습니다."); document.location.href='/user/userInfoDelete';  } 	
		}
</script>
	<br><br><div class="card border-dark mb-3" style="margin: auto; max-width: 30%; max-height: auto;">
		<h1>회원 정보 보기</h1>
		<br>
		<div class="imageZone">
			<div class=imgView style="width:auto; height:auto;  padding: auto; border: none;">
				<img th:if="${user.stored_filename != null}" th:src="@{'/profile/' + ${user.stored_filename}}" style="display:block;width:500px;height:auto;margin:auto">
				<img th:if="${user.stored_filename == null}" th:src="${user.org_filename}" style="display:block;width:500px;height:auto;margin:auto">
				
			</div>
			</div>
			<br>
			<div class="userid">아이디 : [[${user.userid}]]</div>
			<div class="username">이름 : [[${user.username}]]</div>
			<div class="telno">전화번호 : [[${user.telno}]]</div>
			<div class="email">이메일 : [[${user.email}]]</div>
			<!-- regdate가 없어서 안됨(테이블에도 없음) 필요하면 넣고 아님 말고 -->
			<div class="regdate">서비스 가입일: [[${user.regdate}]]</div>
		<br>
	    <div class="" align="center">
	        &nbsp;&nbsp;
	        <a class="btn btn-success" href="/user/userInfoModify">기본정보 변경</a> &nbsp;&nbsp;
	        <a class="btn btn-success" href="/user/userPasswordModify">패스워드 변경</a> &nbsp;&nbsp;
	        <a class="btn btn-success" href="javascript:userInfoDelete()">회원탈퇴</a> &nbsp;&nbsp;
	    </div>
		<br><br>
	
	
	</div><br><br>
<!-- 개발 영역 끝 -->
</th:block>
</html>